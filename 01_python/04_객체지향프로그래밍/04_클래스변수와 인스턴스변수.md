## 객체 비교

* == & is
  * ==
    * 동등한(equal)
    * 변수가 참조하는 객체가 동등한 (내용이 같은) 경우 `True`
    * 두 객체가 같아 보이지만 실제로 동일한 대상을 가리키고 있다고 확인해 준 것은 아님
  * is
    * 동일한(identical)
    * 두 변수가 동일한 객체를 가리키는 경우 `True`



---

## 클래스 변수와 인스턴스 변수

* 클래스 변수와 인스턴스 변수

  * 클래스 변수
    * 클래스 정의 안에(+인스턴스 메서드 밖에 ) 선언
    * 특정 클래스 인스턴스에 묶여 있지 않음
    * 클래스 자체의 내용을 저장
    * 같은 클래스에서 생성된 모든 객체는 동일한 클래스 변수를 공유
  * 인스턴스 변수
    * 항상 특정 인스턴스에 묶여 있음
    * 클래스에 저장되지 읺고 클래스에서 생성된 개별 객체에 저장
    * 인스턴스 마다 완전히 독립적이므로 변수의 값을 수정하면 오로지 해당 객체에만 영향을 미침

* 클래스 변수와 인스턴스 변수의 함정

  * 새 Cat 인스턴스를 만들고 각 인스턴스는 name이라는 인스턴스 변수를 얻음

    ```
    class Cat:
    	num_tails = 1   <- 클래스 변수
    	
    	def __init__(self,name):
    		self.name = name  <- 인스턴스 변수
    ```

    ```
    alice = Cat('alice')
    james = Cat('James')
    print(alice.name)
    print(jamee.name)
    ```

    ​	alice

    ​	james

  * 각 Cat 인스턴스 또는 클래스 자체에서 직접 클래스 변수(num_tails)에 접근 가능

    ```
    print(alice.num_tails)
    print(james.num_tails)
    ```

    ​	1

    ​	1

    ```
    print(Cat.num_tails)
    ```

    ​	1

  * 그러나 클래스를 통해 인스턴스 변수에 접근할 수 없음

  * 인스턴스 변수는 각 객체 인스턴스에 특정되고 __ init__ 생성자가 실행될 때 만들어짐

    * 클래스 자체에는 존재하지 않음

      ```
      print(Cat.name)
      ```

      ​	AttributeError

      

  * 클래스 변수를 수정하고 각 인스턴스가 클래스 변수에 접근하자

    ```
    Cat.num_tails = 2
    ```

    ```
    print(alicenum_tails)
    print(james.num_tails)
    ```

    ​	2

    ​	2

  * 클래스 변수를 다시 원래 값으로 변경

  * 인스턴스로 클래스 변수를 다시 변경해보자

  * 그런데 클래스 변수가 변경 된 것이 아닌 james 인스턴스에 num_tails인스턴스 변수가 생겼음

    ```
    Cat.num_tails = 1
    ```

    ```
    james.num_tails = 2
    ```

    ```
    print(alice.num_tails)
    print(james.num_tails)
    print(Cat.num_tails)
    ```

    ​	1

    ​	2

    ​	1

  * 클래스 변수가 동기화되지 않는 것처럼 보이지만 실제로는 클래스 변수와 같은 이름의 인스턴스 변수가 만들어졌기 때문

  * 이는 잘못된 것은 아니지만 수 많은 버그를 만들어 낼 수 있는 주범이 될 수 있음

  * "인스턴스를 통해 클래스 변수를 수정하려고 시도하는 것"

    * 즉, 이름이 같은 인스턴스 변수를 만들어서 원래 클래스 변수를 가리는 것은 객체 지향 프로그래밍 스타일의 함정이라고  볼 수 있음

* 클래스 변수와 인스턴스 변수의 함정 - 정리

  * 클래스 변수는 모든 클래스 인스터스에서 공유하는 데이터를 위한 변수
  * 인스턴스 변수는 각 인스턴스에 고유한 데이터를 위한 것
  * 클래스 변수는 동일한 이름의 인스턴스 변수에 의해 가려질 수 있기 때문에 주의해야 함 (버그나 원치 않는 동작을 유발할 수 있음)

