## 트리

* 트리는 싸이클잉 없는 무향 연결 그래프이다.
  * 두 노드(or 정점) 사이에는 유일한 경로가 존재한다
  * 각 노드는 최대 하나의 부모 노드가 존재할 수 있다.
  * 각 노드는 자식 노드가 없거나 하나 이상이 존재할 수 있다.
* 비선형 구조
  * 원소들 간에 1:n 관계를 가지는 자료구조
  * 원소들 간에 계층관계를 가지는 계층형 자료구조
* 정의
  * 한 개 이상의 노드로 이루어진 유한 집합이며 다음 조건을 만족한다.
    1. 노드 중 부모가 없는 노드를 루트라 한다
    2. 나머지 노드들은 n(>=0) 개의 분리 집합 T1... TN으로 분리될 수 있다.
  * 이들 T1 ... TN은 각각 하나의 트리가 되며(재귀적 정의)루트의 서브 트리라 한다.
* 순회란 트리의 각 노드를 중복되지 않게 전부 방문하는 것을 말하는데 트리는 비 선형 구조이기 때문에 선형구조에서와 같이 선후 연결 관계를 알 수 없다. => 따라서 특별한 방법이 필요

* 부모를 인덱스로 자식을 표시하는 건 순회할 때

* 자식인덱스로 부모를 표시한건 조상을 찾을때 : 값이 0이면 루트노드

  ```
  f(n):
  	if n:
  		visited(n)
  		f(left[n])
  		f(right[n])
  ```

  ```
  완전 이진 트리
  f(n)
  	if n < last:
          visited(n)
          f(n*2)
          f(n*2+1)
  ```

* 힙 연산 - 삽입

```
def enq(n):
	global last
	last += 1
	tree[last] = n
	c = last
	p = c//2
	while p >= 1 and tree[p] < tree[c]:
		tree[p], tree[c] = tree[c], tree[p]
		c = p
        p = c //2
        
def deq():
	global last
	tmp = tree[1]
	tree[1] = tree[last]
	last -= 1
	p = 1
	c1 = 2*p
	c2 = 2*p + 1
	while c1 <= last: # 자식이 하나라도 있으면
		if c2<= last: # 자식이 둘이면
			if tree[c1] >= tree[c2] and tree[c1] > tree[p]:
				tree[c1], tree[p] = tree[p], tree[c1]
				p = c1
			elif tree[c1]<tree[c2] and tree[c2]>tree[p]:
				tree[c2],tree[p] = tree[p], tree[c2]
				p = c2
			c1 = p * 2
			c2 = p*2+1
		else: # 왼쪽 자식만 있는 경우
			if tree[c1] > tree[p]:
				tree[c1], tree[p] = tree[p], tree[c1]
				break
	
	
		
tree = [0] * 101 # 최대 100번 노드까지, 최대힙
last = 0 # 마지막 노드 번호
a =  [7,2,3,9,5]
for x in a:
	enq(x)
```

* 힙에서는 루트 노드의 원소만을 삭제할 수 잇다.

* 루트 노드의 원소를 삭제하여 반환한ㄷ,

* 힙의 종류에 따라 최대값 또는 최소값을 구할 수 있다.

  * 우선순위 큐와 비교

* 힙을 활용하는 대표적인 2가지 예는 특별한 큐의 구현과 정렬이다.

* 우선 순위 큐를 구현하는 가장 효율적인 방법이 힙을 사용하는 것이다

  * 노드 하나의 추가/삭제가 시간 복잡도가 O(logN)이고 최대값/최소값을 O(1)에 구할 수 있다.
  * 완전 정렬 보다 관리 비용이 적다.

* 배열을 통해 트리 형태를 쉽게 구현할 수 있다.

  * 부모나 자식 노드를 O(1) 연산으로 쉽게 찾을 수 있다.
  * n위치에 있는 노드의 자식은 2n과 2n+1위치한다.
  * 완전 이진 트리읭 특성에 의해 추가/삭제의 위치는 자료의 시작과 끝 인덱스로 쉽게 판단할 수 있다.

* 힙 정렬은 힙 자료구조를  이용해서 이진 탐색과 유사한 방법으로 수행되다.

* 정렬을 위한 2단계

  1. 하나의 값을 힙에 삽입한다(반복)
  2. 힙에서 순차적(오름차순)으로 값으 하나씩 제거한다

  