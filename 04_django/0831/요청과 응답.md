장고 가상환경



1. python -m venv venv
2. 가상환경을 코드로 열어서
3. source venv/Scripts/activate
4. pip list로 한번 확인하기
5. pip install django
6. 프로젝트 폴더 생성
7. 프로젝트 폴더로 들어가기 cd 파일이름
8. django-admin startproject config .
9. python manage.py runserver
10. 밑의 주소를 컨트롤 클릭





* 프로젝트구조

  * wsgi.py

    * Web Server Gateway Interface

    * django 애플리케이션이 웹서버와 연결 및 소통하는 것을 토움

      > asgi.py와 wsgi,py는 배포할 때 사용함

    * manage.py

      * django 프로젝트와 다양한 방법으로 상호작용 하는 커맨드라인 유틸리티

      ```
      $ python manage.py <command> [options]
      ```

* Application 생성

  * 일반적으로 Application명은 복수형으로 하는 것을 권장

  * Application : 로그인/로그아웃/회원가입/탈퇴/ 글쓰기/ 삭제 와 같은 기능을 담당함 근데 우리가 만들어야 함

    ```
    $ python manage.py startapp articles(어플리케이션 이름임)
    ```

  * articles는 글쓰기 / accounts는 회원가입

* Application 구조

  * apps.py

    * 앱의 정보가 작성되는 곳

  * models.py

    * 앱에서 사용되는 Model을 정의하는 곳

      > DB를 정의

  * tests.py

    * 프로젝트의 테스트 코드를 작성하는 곳

      > TDD

  * views.py

    * view 함수들이 정의되는 곳





* Project & Application

  * Project

    * Project는 Application의 집합
    * 프로젝트에는 여러 앱(=기능)이 포함될 수 있음
    * 앱은 여러 프로젝트에 있을 수 있음

  * Application

    * 앱은 실제 요청을 처리하고 페이지를 보여주는 하는등의 역할을 담당

    * 하나의 프로젝트는 여러 앱을 가짐

    * 일잔벅으로 앱은 하나의 역할 및 기능 단위로 작성함

      > MTV에서 M,V의 기능을 담당함
      >
      > config는 어플리케이션이 아님, 설정 폴더이며 Project에 대한 설정을 담당함
      >
      > application은 startapp으로 생성된 친구들, project는 startproject로 생성

* 앱을 생성하고 등록할때 순서를 지켜줘야 함 가장 최근에 생성한 앱은 가장 위쪽에 배치/ 중간 단계는 외부에서 pip install로 설치한 것 중 장고에 등록해서 사용하는 것을 적음/ 장고 기본앱은 가장 마지막에







## 요청과 응답

* 서버-클라이언트 구조

  * 모바일이든 브라우저이든 파이썬 프로그램이든 

* URLS

  * HTTP 요청을 알맞은 view로 전달
  * urls.py에 urlpatterns = [ path('경로/', view에서 할 것(함수ex- views.index:def index()라는 함수가 있움),)]
    * [path('search/', views.search)]

* View

  * HTTP 요청을 수신하고 HTTP응답을 반환하는 함수 작성

  * Model을통해 요청에 맞는 필요 데이터에 접근

  * Template에게 HTTP응답서식을 맡김

    > return 은 응답이라고 보면 됨
    >
    > request에는 사용자 요청 정보가 들어있는데 이건 따로 신경 안써도 됨

* templates

  * 실제 내용을 보여주는데 사용되는 파일
  * 파일의 구조나 레이아웃을 정의 (ex. HTML)
  * templates 파일 경로의 기본 값은 app 폴더 안의 templates 폴더로 지정되어 있음

`__init__`이 있어서 article 폴더를 모듈로 이용할수있음



url에서 실행될 모든 함수는 request를 매개변수로 받음



render 는 templates를 보여주기 위한? render도 처음인자로request사용해야함

.은 현재 폴더 .. 상위 폴더



상위 폴더의 가상환경을 실행시키려면

source ../v/s/a





404 :HTTP_STATUS_CODE (잘못요청한거임)



Asia/Seoul



use_Tz = (Utc_tz

)







* Static web page(정적 웹 페이지)

  * 서버에 미리 저장된 파일이 사용자에게 그대로 전달되는 웹 페이지
  * 서버가 정적 웹 페이지에 대한 요청을 받은 경우 서버는 추가적인 처리 과정 없이 클라이언트에게 응답을 보냄
  * 모든 상황에서 모든 사용자에게 동일한 정보를 표시
  * 일반적으로 HTML, JavaScript 로 작성됨
  * flat page라고도 함

* Dynamic web page(동적 웹 페이지)

  * 웹 페이지에 대한 요청을 받은 경우 서버는 추가

* Django Template

  * 데이터 표현을 제어하는 도구이자 표현에 관련된 로직
  * 사용하는 built-in systen
    * Django Template Language(DTL)

* Django Template Language(DTL)

  * django

* DTL Syntax - Variable

  ```
  {{variable(변수명)}}
  ```

  * render()를 사용하여 view.py 에서 정의한 변수를 template파일로 넘겨 사용하는 것
  * 변수명은 영어, 숫자와 밑줄(_)의 조합으로 구성될 수 있으나 밑줄로는 시작 할 수 없음
    * 공백이나 구두점 문자 또한 사용할 수 없음
  * dot(.)를 사용하여 변수 속성에 접근할 수 있음  ex) a.0 = a[0]
  * render() 세번째 인자로 {'key': value} 와 같이 딕셔너리 형태로 넘겨주며 여기서 정의한 key에 해당하는 문자열이 template에서 사용가능한 변수명이 됨

* Filters

  ```
  {{variable|filter}}
  ```

  * 변수와 함께 씀
  * |앞뒤로 띄우쓰기 금지

* Tags

  * 태그 하나에 그 의미를 가지고 잇음
  * { % tag %}
  * 출력 텍스트를 만들거나 반복 또는 논리를 수행하여 제어 흐름을 만드는 등 변수보다 복잡한 일들을 수행
  * 일부태그는 시작과 종료태그가 필요

  ```
  {% if %} {% endif %}
  ```

  

* comments

  ```
  {# #}
  ```

  * django template 에서 라이의 주석





## Template

* 코드 작성 순서
  * 데이터의 흐름에 맞추어 작성
    1. urls.py
    2. views.py
    3. templates







DTL은 Html 커맨트는 먹지않는다





* Template ()





* HTML "form" element





> quert string parameters (= ?key=velue&)
>
> `<form>` => Query string 사용
>
> routing => path



* variable routing
  * 경로패턴을 변수화해보자
  * 순서를 마지막으로 하거나 하나의 패턴을 추가해야지 안겹침 ex ) read/<username>/ 
  * 저장되는 type 지정할수잇음 default는 str
  * djangoproject.com?



* UEL Path converters
  * str
* App URL mapping
  * 이제는 각 app에 urls.py를 작성하게 됨